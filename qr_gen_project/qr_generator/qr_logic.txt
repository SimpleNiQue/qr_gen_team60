context = {}


    link_to_logo = STATIC_ROOT + '/base/images/' + 'qr_logo.png'
    logo = Image.open(link_to_logo)
    
    basewidth = 100

    # adjust image size
    widthpercent = (basewidth/float(logo.size[0]))
    hsize = int((float(logo.size[1])*float(widthpercent)))

    logo = logo.resize((basewidth, hsize), Image.ANTIALIAS)
    QRcode = qrcode.QRCode(
        version=3,
        box_size = 10,
        border=2,
        error_correction=qrcode.constants.ERROR_CORRECT_M
    )

    data = request.POST['data']

    QRcode.make(fit=True)
    
    QRimg = QRcode.make_image(
        fill_color='black', back_color="white").convert('RGB')
    
    # set size of QR code
    pos = ((QRimg.size[0] - logo.size[0]) // 2,(QRimg.size[1] - logo.size[1]) // 2)

    QRimg.paste(logo, pos)

    img_name = '/upload/nick.png' # the folder must be pre-existing, time wasted to find out:6hrs
    QRimg.save(MEDIA_ROOT + img_name)
    
    loc = MEDIA_URL + img_name
    context['qr_image'] = loc




if request.method == 'POST':
        # check the category --> text image or file
        if request.POST['name']
        user_data = 
        form = request.